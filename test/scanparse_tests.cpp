#include "testutils.h"
#include "gmock/gmock.h"
#include "gtest/gtest.h"
#include <filesystem>
#include <iostream>
#include <string>

extern "C"
{
#include "test_interface.h"
#include "to_string.h"
}

class ScanParseTest : public testing::Test
{
  public:
    char *root_string = nullptr;
    node_st *root = nullptr;
    std::string input_filepath;
    std::string err_output;
    std::string std_output;

  protected:
    ScanParseTest()
    {
    }

    void SetUpNoExecute(std::string filepath)
    {
        input_filepath =
            std::filesystem::absolute(std::string(PROJECT_DIRECTORY) + "/test/data/" + filepath);
        ASSERT_TRUE(std::filesystem::exists(input_filepath))
            << "File does not exist at path '" << input_filepath << "'";
    }

    void SetUp(std::string filepath)
    {
        SetUpNoExecute(filepath);
        testing::internal::CaptureStdout();
        testing::internal::CaptureStderr();
        root = run_scan_parse(input_filepath.c_str());
        EXPECT_NE(nullptr, root) << "Could not parse ast in file: '" << input_filepath << "'";
        err_output = testing::internal::GetCapturedStderr();
        std_output = testing::internal::GetCapturedStdout();
        ASSERT_THAT(err_output,
                    testing::Not(testing::HasSubstr("error: Inconsistent node found in AST")));
        root_string = node_to_string(root);
    }

    void TearDown() override
    {
        if (root_string != nullptr)
        {

            if (HasFailure())
            {
                std::cerr
                    << "========================================================================\n"
                    << "                        Node Representation\n"
                    << "========================================================================\n"
                    << root_string << std::endl;
            }

            free(root_string);
        }

        if (root != nullptr)
        {
            cleanup_nodes(root);
            root = nullptr;
        }
    }
};

TEST_F(ScanParseTest, GlobalDecBool)
{
    SetUp("globaldec_bool/main.cvc");
    ASSERT_NE(nullptr, root);

    ASSERT_EQ(root->nodetype, NT_PROGRAM);

    node_st *decls = PROGRAM_DECLS(root);
    ASSERT_EQ(NT_DECLARATIONS, decls->nodetype);
    node_st *dec1 = DECLARATIONS_DECL(decls);
    ASSERT_EQ(NT_GLOBALDEC, dec1->nodetype);
    ASSERT_EQ(DT_bool, GLOBALDEC_TYPE(dec1));
    node_st *var1 = GLOBALDEC_VAR(dec1);
    ASSERT_EQ(NT_VAR, var1->nodetype);
    ASSERT_STREQ("test", VAR_NAME(var1));

    decls = DECLARATIONS_NEXT(decls);
    ASSERT_EQ(NT_DECLARATIONS, decls->nodetype);
    node_st *dec2 = DECLARATIONS_DECL(decls);
    ASSERT_EQ(NT_GLOBALDEC, dec2->nodetype);
    ASSERT_EQ(DT_bool, GLOBALDEC_TYPE(dec2));
    node_st *array_var2 = GLOBALDEC_VAR(dec2);
    ASSERT_EQ(NT_ARRAYVAR, array_var2->nodetype);
    node_st *var2 = ARRAYVAR_VAR(array_var2);
    ASSERT_EQ(NT_VAR, var2->nodetype);
    ASSERT_STREQ("test1", VAR_NAME(var2));
    node_st *dims2 = ARRAYVAR_DIMS(array_var2);
    ASSERT_EQ(NT_DIMENSIONVARS, dims2->nodetype);
    node_st *var0_dim2 = DIMENSIONVARS_DIM(dims2);
    ASSERT_EQ(NT_VAR, var0_dim2->nodetype);
    ASSERT_STREQ("dim", VAR_NAME(var0_dim2));
    dims2 = DIMENSIONVARS_NEXT(dims2);
    ASSERT_EQ(nullptr, dims2);

    decls = DECLARATIONS_NEXT(decls);
    ASSERT_EQ(NT_DECLARATIONS, decls->nodetype);
    node_st *dec3 = DECLARATIONS_DECL(decls);
    ASSERT_EQ(NT_GLOBALDEC, dec3->nodetype);

    decls = DECLARATIONS_NEXT(decls);
    ASSERT_EQ(NT_DECLARATIONS, decls->nodetype);
    node_st *dec4 = DECLARATIONS_DECL(decls);
    ASSERT_EQ(NT_GLOBALDEC, dec4->nodetype);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'bool'\n"
                           "┃     └─ Var -- name:'test'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'bool'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'bool'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test2'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'bool'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test3'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDecInt)
{
    SetUp("globaldec_int/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ Var -- name:'test'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test2'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test3'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDecFloat)
{
    SetUp("globaldec_float/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ Var -- name:'test'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test2'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┣─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'test3'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDefBool)
{
    SetUp("globaldef_bool/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test_123'\n"
                           "┃        └─ Bool -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test'\n"
                           "┃        └─ Bool -- val:'0'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'12'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array'\n"
                           "┃        └─ Bool -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'5'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array5'\n"
                           "┃        ┢─ ArrayInit\n"
                           "┃        ┃  └─ Bool -- val:'1'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Bool -- val:'0'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Bool -- val:'0'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Bool -- val:'1'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'5'\n"
                           "┃        │  ┣─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'2'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array52'\n"
                           "┃        ┢─ ArrayInit\n"
                           "┃        ┃  ┢─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'0'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'0'\n"
                           "┃        ┃  ┗─ NULL\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  ┢─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'0'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'0'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Bool -- val:'1'\n"
                           "┃        ┃  ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDefInt)
{
    SetUp("globaldef_int/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'first'\n"
                           "┃        └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'second'\n"
                           "┃        └─ Int -- val:'777'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'12'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array'\n"
                           "┃        └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'5'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array5'\n"
                           "┃        ┢─ ArrayInit\n"
                           "┃        ┃  └─ Int -- val:'1'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Int -- val:'2'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Monop -- op:'-'\n"
                           "┃        ┃     └─ Int -- val:'3'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Int -- val:'4'\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  └─ Int -- val:'5'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'5'\n"
                           "┃        │  ┣─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'2'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'array52'\n"
                           "┃        ┢─ ArrayInit\n"
                           "┃        ┃  ┢─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'10'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'9'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'7'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'6'\n"
                           "┃        ┃  ┗─ NULL\n"
                           "┃        ┣─ ArrayInit\n"
                           "┃        ┃  ┢─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'5'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'4'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'3'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'2'\n"
                           "┃        ┃  ┣─ ArrayInit\n"
                           "┃        ┃  ┃  └─ Int -- val:'1'\n"
                           "┃        ┃  ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDefFloat)
{
    SetUp("globaldef_float/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected =
        "Program\n"
        "┢─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_123'\n"
        "┃        └─ Float -- val:'1.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_long'\n"
        "┃        └─ Float -- val:'212.239402'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_321'\n"
        "┃        └─ Float -- val:'1000000000000.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_31'\n"
        "┃        └─ Float -- val:'0.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_3'\n"
        "┃        └─ Float -- val:'1000000000000.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_31'\n"
        "┃        └─ Float -- val:'0.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test_3'\n"
        "┃        └─ Monop -- op:'-'\n"
        "┃           └─ Float -- val:'1000000000000.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ Var -- name:'test'\n"
        "┃        └─ Float -- val:'0.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ ArrayExpr\n"
        "┃        │  ┢─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'12'\n"
        "┃        │  ┡─ NULL\n"
        "┃        │  └─ Var -- name:'array'\n"
        "┃        └─ Float -- val:'5.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ ArrayExpr\n"
        "┃        │  ┢─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'5'\n"
        "┃        │  ┡─ NULL\n"
        "┃        │  └─ Var -- name:'array5'\n"
        "┃        ┢─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'5.300000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Monop -- op:'-'\n"
        "┃        ┃     └─ Float -- val:'4.200000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'3.000000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'2.200000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'1.000000'\n"
        "┃        ┗─ NULL\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ ArrayExpr\n"
        "┃        │  ┢─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'5'\n"
        "┃        │  ┣─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'2'\n"
        "┃        │  ┡─ NULL\n"
        "┃        │  └─ Var -- name:'array52'\n"
        "┃        ┢─ ArrayInit\n"
        "┃        ┃  ┢─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'10.000000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'9.000000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'8.300000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'7.000000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'6.200000'\n"
        "┃        ┃  ┗─ NULL\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  ┢─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'5.234000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'4.234200'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'3.000000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'2.000000'\n"
        "┃        ┃  ┣─ ArrayInit\n"
        "┃        ┃  ┃  └─ Float -- val:'1.000000'\n"
        "┃        ┃  ┗─ NULL\n"
        "┃        ┗─ NULL\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ ArrayExpr\n"
        "┃        │  ┢─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'15'\n"
        "┃        │  ┡─ NULL\n"
        "┃        │  └─ Var -- name:'array7'\n"
        "┃        └─ Float -- val:'5000000000000.000000'\n"
        "┣─ Declarations\n"
        "┃  └─ GlobalDef -- has_export:'0'\n"
        "┃     └─ VarDec -- type:'float'\n"
        "┃        ├─ ArrayExpr\n"
        "┃        │  ┢─ Exprs\n"
        "┃        │  ┃  └─ Int -- val:'3'\n"
        "┃        │  ┡─ NULL\n"
        "┃        │  └─ Var -- name:'array3'\n"
        "┃        ┢─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'50.000000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'4.000000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'30000000000000001826021443431825408.000000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'2000000000000.000000'\n"
        "┃        ┣─ ArrayInit\n"
        "┃        ┃  └─ Float -- val:'100000000000000005366162204393472.000000'\n"
        "┃        ┗─ NULL\n"
        "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDecBool)
{
    SetUp("fundec_bool/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test1'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'testi'\n"
                           "┃        ┣─ Params -- type:'float'\n"
                           "┃        ┃  └─ Var -- name:'testf'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'bool'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'hi'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDecInt)
{
    SetUp("fundec_int/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'testi'\n"
                           "┃        ┣─ Params -- type:'float'\n"
                           "┃        ┃  └─ Var -- name:'testf'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'test6'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'hi'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDecFloat)
{
    SetUp("fundec_float/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        ┢─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'testi'\n"
                           "┃        ┣─ Params -- type:'float'\n"
                           "┃        ┃  └─ Var -- name:'testf'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'test6'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ ArrayVar\n"
                           "┃        ┃     ┢─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃        ┃     ┣─ DimensionVars\n"
                           "┃        ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Var -- name:'test'\n"
                           "┃        ┣─ Params -- type:'bool'\n"
                           "┃        ┃  └─ Var -- name:'hi'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDefBool)
{
    SetUp("fundef_bool/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefFirst'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefSecond'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'0'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefThird'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventh'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefNinth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefEleventh'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwelfth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefThirteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefFifteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixteenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventeenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefNineteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentieth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentyfirst'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'bool'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDefInt)
{
    SetUp("fundef_int/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefFirst'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefSecond'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefThird'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventh'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefNinth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefEleventh'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwelfth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefThirteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefFifteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixteenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventeenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefNineteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentieth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentyfirst'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, FunDefFloat)
{
    SetUp("fundef_float/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefFirst'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefSecond'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefThird'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventh'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefNinth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'value'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefEleventh'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwelfth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefThirteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefFourteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefFifteenth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefSixteenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefSeventeenth'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefEighteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefNineteenth'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentieth'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentyfirst'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'values'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'funcDefTwentysecond'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'valueOne'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'valueTwo'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'valueThree'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim1'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'intValues'\n"
                           "┃     │  ┣─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim2'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim3'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'floatValues'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim4'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim5'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'dim6'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'boolValues'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, LocalFundef)
{
    SetUp("local_fundef/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'test'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'car'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'next'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'new'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'inner'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃        ┃     │  └─ Var -- name:'etsfadf'\n"
                           "┃        ┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, LocalFundefs)
{
    SetUp("local_fundefs/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'test'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'car'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'next'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'new'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'inner'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃        ┃     │  └─ Var -- name:'etsfadf'\n"
                           "┃        ┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┣─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'float'\n"
                           "┃        ┃     │  ├─ Var -- name:'inner_next'\n"
                           "┃        ┃     │  ┢─ Params -- type:'int'\n"
                           "┃        ┃     │  ┃  └─ Var -- name:'bob'\n"
                           "┃        ┃     │  ┣─ Params -- type:'bool'\n"
                           "┃        ┃     │  ┃  └─ Var -- name:'foo'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, LocalFundefsRecursive)
{
    SetUp("local_fundefs_recursive/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'float'\n"
                           "┃     │  ├─ Var -- name:'test'\n"
                           "┃     │  ┢─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'car'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'next'\n"
                           "┃     │  ┣─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'new'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'inner'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃        ┃     │  └─ Var -- name:'etsfadf'\n"
                           "┃        ┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┣─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'float'\n"
                           "┃        ┃     │  ├─ Var -- name:'inner_next'\n"
                           "┃        ┃     │  ┢─ Params -- type:'int'\n"
                           "┃        ┃     │  ┃  └─ Var -- name:'bob'\n"
                           "┃        ┃     │  ┣─ Params -- type:'bool'\n"
                           "┃        ┃     │  ┃  └─ Var -- name:'foo'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┢─ LocalFunDefs\n"
                           "┃        ┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃        ┃     ├─ FunHeader -- type:'void'\n"
                           "┃        ┃        ┃     │  ├─ Var -- name:'inner_inner'\n"
                           "┃        ┃        ┃     │  └─ NULL\n"
                           "┃        ┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┃        └─ NULL\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDefAssignArray)
{
    SetUp("globaldef_assign_array/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'definition'\n"
                           "┃        └─ ArrayExpr\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Int -- val:'0'\n"
                           "┃           ┡─ NULL\n"
                           "┃           └─ Var -- name:'Assignment'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'definition_2'\n"
                           "┃        └─ ArrayExpr\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ ProcCall\n"
                           "┃           ┃     ├─ Var -- name:'func'\n"
                           "┃           ┃     └─ NULL\n"
                           "┃           ┡─ NULL\n"
                           "┃           └─ Var -- name:'Assignment_2'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDefCast)
{
    SetUp("globaldef_cast/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'definition_3'\n"
                           "┃        └─ Cast -- type:'float'\n"
                           "┃           └─ Var -- name:'Assignment_3'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'definition_4'\n"
                           "┃        └─ Cast -- type:'float'\n"
                           "┃           └─ ArrayExpr\n"
                           "┃              ┢─ Exprs\n"
                           "┃              ┃  └─ ProcCall\n"
                           "┃              ┃     ├─ Var -- name:'func'\n"
                           "┃              ┃     └─ NULL\n"
                           "┃              ┡─ NULL\n"
                           "┃              └─ Var -- name:'Assignment_4'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'definition_5'\n"
                           "┃        └─ Cast -- type:'float'\n"
                           "┃           └─ ArrayExpr\n"
                           "┃              ┢─ Exprs\n"
                           "┃              ┃  └─ ProcCall\n"
                           "┃              ┃     ├─ Var -- name:'func'\n"
                           "┃              ┃     └─ NULL\n"
                           "┃              ┡─ NULL\n"
                           "┃              └─ Var -- name:'Assignment_5'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, ProcCall)
{
    SetUp("proc_call/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'main'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test1'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'variable'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test4'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ ArrayExpr\n"
                           "┃        ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃  └─ Int -- val:'123'\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     └─ Var -- name:'variable'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test3'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'variable1'\n"
                           "┃        ┃     ┣─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'variable2'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test2'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Binop -- op:'+'\n"
                           "┃        ┃     ┃     ├─ Var -- name:'var1'\n"
                           "┃        ┃     ┃     └─ Var -- name:'var2'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'test2'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'func'\n"
                           "┃        ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃  └─ Binop -- op:'+'\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'var1'\n"
                           "┃        ┃     ┃     ┃     └─ Var -- name:'var2'\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┣─ Exprs\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'func'\n"
                           "┃        ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃  └─ Binop -- op:'<'\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'var1'\n"
                           "┃        ┃     ┃     ┃     └─ Var -- name:'var2'\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Binops)
{
    SetUp("binops/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test1'\n"
                           "┃        └─ Binop -- op:'+'\n"
                           "┃           ├─ Int -- val:'1'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test1'\n"
                           "┃        └─ Binop -- op:'+'\n"
                           "┃           ├─ Int -- val:'1'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        └─ Binop -- op:'-'\n"
                           "┃           ├─ Int -- val:'2'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        └─ Binop -- op:'*'\n"
                           "┃           ├─ Int -- val:'3'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        └─ Binop -- op:'/'\n"
                           "┃           ├─ Int -- val:'4'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        └─ Binop -- op:'%'\n"
                           "┃           ├─ Int -- val:'5'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test6'\n"
                           "┃        └─ Binop -- op:'=='\n"
                           "┃           ├─ Int -- val:'1'\n"
                           "┃           └─ Int -- val:'4'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test7'\n"
                           "┃        └─ Binop -- op:'!='\n"
                           "┃           ├─ Int -- val:'2'\n"
                           "┃           └─ Int -- val:'5'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test8'\n"
                           "┃        └─ Binop -- op:'<'\n"
                           "┃           ├─ Int -- val:'2'\n"
                           "┃           └─ Int -- val:'4'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test10'\n"
                           "┃        └─ Binop -- op:'<='\n"
                           "┃           ├─ Int -- val:'23'\n"
                           "┃           └─ Int -- val:'234'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test11'\n"
                           "┃        └─ Binop -- op:'>'\n"
                           "┃           ├─ Int -- val:'12'\n"
                           "┃           └─ Int -- val:'123'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test12'\n"
                           "┃        └─ Binop -- op:'>='\n"
                           "┃           ├─ Int -- val:'12'\n"
                           "┃           └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test13'\n"
                           "┃        └─ Binop -- op:'&&'\n"
                           "┃           ├─ Bool -- val:'1'\n"
                           "┃           └─ Bool -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test14'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Bool -- val:'1'\n"
                           "┃           └─ Int -- val:'123'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test1'\n"
                           "┃        └─ Binop -- op:'+'\n"
                           "┃           ├─ Var -- name:'test1'\n"
                           "┃           └─ Var -- name:'test1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        └─ Binop -- op:'-'\n"
                           "┃           ├─ Var -- name:'test2'\n"
                           "┃           └─ Var -- name:'test2'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        └─ Binop -- op:'*'\n"
                           "┃           ├─ Var -- name:'test3'\n"
                           "┃           └─ Var -- name:'test3'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        └─ Binop -- op:'/'\n"
                           "┃           ├─ Var -- name:'test4'\n"
                           "┃           └─ Var -- name:'test4'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        └─ Binop -- op:'%'\n"
                           "┃           ├─ Var -- name:'test5'\n"
                           "┃           └─ Var -- name:'test5'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test6'\n"
                           "┃        └─ Binop -- op:'=='\n"
                           "┃           ├─ Var -- name:'test6'\n"
                           "┃           └─ Var -- name:'test6'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test7'\n"
                           "┃        └─ Binop -- op:'!='\n"
                           "┃           ├─ Var -- name:'test7'\n"
                           "┃           └─ Var -- name:'test7'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test8'\n"
                           "┃        └─ Binop -- op:'<'\n"
                           "┃           ├─ Var -- name:'test8'\n"
                           "┃           └─ Var -- name:'test8'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test10'\n"
                           "┃        └─ Binop -- op:'<='\n"
                           "┃           ├─ Var -- name:'test9'\n"
                           "┃           └─ Var -- name:'test9'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test11'\n"
                           "┃        └─ Binop -- op:'>'\n"
                           "┃           ├─ Var -- name:'test10'\n"
                           "┃           └─ Var -- name:'test10'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test12'\n"
                           "┃        └─ Binop -- op:'>='\n"
                           "┃           ├─ Var -- name:'test11'\n"
                           "┃           └─ Var -- name:'test11'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test13'\n"
                           "┃        └─ Binop -- op:'&&'\n"
                           "┃           ├─ Var -- name:'test12'\n"
                           "┃           └─ Var -- name:'test12'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test14'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Var -- name:'test13'\n"
                           "┃           └─ Var -- name:'test13'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test1'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'+'\n"
                           "┃           ┃     ├─ Int -- val:'1'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test2'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'-'\n"
                           "┃           ┃     ├─ Int -- val:'2'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test3'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'*'\n"
                           "┃           ┃     ├─ Int -- val:'3'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test4'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'/'\n"
                           "┃           ┃     ├─ Int -- val:'4'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test5'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'%'\n"
                           "┃           ┃     ├─ Int -- val:'5'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test6'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'=='\n"
                           "┃           ┃     ├─ Int -- val:'1'\n"
                           "┃           ┃     └─ Int -- val:'4'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test7'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'!='\n"
                           "┃           ┃     ├─ Int -- val:'2'\n"
                           "┃           ┃     └─ Int -- val:'5'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test8'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'<'\n"
                           "┃           ┃     ├─ Int -- val:'2'\n"
                           "┃           ┃     └─ Int -- val:'4'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test10'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'<='\n"
                           "┃           ┃     ├─ Int -- val:'23'\n"
                           "┃           ┃     └─ Int -- val:'234'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test11'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'>'\n"
                           "┃           ┃     ├─ Int -- val:'12'\n"
                           "┃           ┃     └─ Int -- val:'123'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test12'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'>='\n"
                           "┃           ┃     ├─ Int -- val:'12'\n"
                           "┃           ┃     └─ Int -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test13'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'&&'\n"
                           "┃           ┃     ├─ Bool -- val:'1'\n"
                           "┃           ┃     └─ Bool -- val:'1'\n"
                           "┃           ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test14'\n"
                           "┃        └─ ProcCall\n"
                           "┃           ├─ Var -- name:'func'\n"
                           "┃           ┢─ Exprs\n"
                           "┃           ┃  └─ Binop -- op:'||'\n"
                           "┃           ┃     ├─ Bool -- val:'1'\n"
                           "┃           ┃     └─ Int -- val:'123'\n"
                           "┃           ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, GlobalDecArray)
{
    SetUp("globaldec_array/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'1'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'q'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Monop -- op:'-'\n"
                           "┃        │  ┃     └─ Float -- val:'0.600000'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'q_'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Binop -- op:'>='\n"
                           "┃        │  ┃     ├─ Int -- val:'40'\n"
                           "┃        │  ┃     └─ Var -- name:'func'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Binop -- op:'%'\n"
                           "┃        │  ┃     ├─ Var -- name:'func'\n"
                           "┃        │  ┃     └─ Var -- name:'asdf'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Binop -- op:'>='\n"
                           "┃        │  ┃     ├─ Int -- val:'40'\n"
                           "┃        │  ┃     └─ Binop -- op:'%'\n"
                           "┃        │  ┃        ├─ Var -- name:'func'\n"
                           "┃        │  ┃        └─ Var -- name:'asdf'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'test'\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, DoWhile)
{
    SetUp("dowhile/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ Var -- name:'N01__'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ ProcCall\n"
                           "┃        ┃        ├─ Var -- name:'N81_WYU__'\n"
                           "┃        ┃        ┢─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'6'\n"
                           "┃        ┃        ┣─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'97'\n"
                           "┃        ┃        ┣─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'8'\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ Assign\n"
                           "┃        ┃     ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃     ┃        ├─ Int -- val:'5'\n"
                           "┃        ┃     ┃        └─ Var -- name:'i'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ ProcCall\n"
                           "┃        ┃        ├─ Var -- name:'N81_WYU__'\n"
                           "┃        ┃        ┢─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'6'\n"
                           "┃        ┃        ┣─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'97'\n"
                           "┃        ┃        ┣─ Exprs\n"
                           "┃        ┃        ┃  └─ Int -- val:'8'\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, If)
{
    SetUp("if/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  ├─ Var -- name:'test2'\n"
                           "┃        ┃     │  └─ Var -- name:'test1'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  ├─ Var -- name:'test2'\n"
                           "┃        ┃     │  └─ Var -- name:'test1'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  ├─ Var -- name:'test2'\n"
                           "┃        ┃     │  └─ Var -- name:'test1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ Bool -- val:'1'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ Bool -- val:'0'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ Assign\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'test'\n"
                           "┃        ┃     ┃     ┃     └─ Int -- val:'5'\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ ProcCall\n"
                           "┃        ┃     │  ├─ Var -- name:'q3'\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ ArrayExpr\n"
                           "┃        ┃     │  ┃     ┢─ Exprs\n"
                           "┃        ┃     │  ┃     ┃  └─ Int -- val:'2'\n"
                           "┃        ┃     │  ┃     ┡─ NULL\n"
                           "┃        ┃     │  ┃     └─ Var -- name:'A__wi'\n"
                           "┃        ┃     │  ┣─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'2'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'U0'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'H_v'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ WhileLoop\n"
                           "┃        ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     │  └─ Int -- val:'2'\n"
                           "┃        ┃     ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     ┃     ┃     └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     ┃     ┃     └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ ProcCall\n"
                           "┃        ┃     │     ├─ Var -- name:'fun'\n"
                           "┃        ┃     │     └─ NULL\n"
                           "┃        ┃     ├─ Monop -- op:'!'\n"
                           "┃        ┃     │  └─ Var -- name:'i'\n"
                           "┃        ┃     ├─ ProcCall\n"
                           "┃        ┃     │  ├─ Var -- name:'floae'\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Float -- val:'0.000000'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ ArrayExpr\n"
                           "┃        ┃     ┃     │  ┢─ Exprs\n"
                           "┃        ┃     ┃     │  ┃  └─ Monop -- op:'!'\n"
                           "┃        ┃     ┃     │  ┃     └─ Monop -- op:'!'\n"
                           "┃        ┃     ┃     │  ┃        └─ Monop -- op:'-'\n"
                           "┃        ┃     ┃     │  ┃           └─ Var -- name:'b'\n"
                           "┃        ┃     ┃     │  ┡─ NULL\n"
                           "┃        ┃     ┃     │  └─ Var -- name:'w'\n"
                           "┃        ┃     ┃     ├─ NULL\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ ProcCall\n"
                           "┃        ┃     │     ├─ Var -- name:'fun'\n"
                           "┃        ┃     │     └─ NULL\n"
                           "┃        ┃     ├─ Monop -- op:'!'\n"
                           "┃        ┃     │  └─ Var -- name:'i'\n"
                           "┃        ┃     ├─ ProcCall\n"
                           "┃        ┃     │  ├─ Var -- name:'floae'\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Float -- val:'0.000000'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'v'\n"
                           "┃        ┃     ┃     │  └─ Int -- val:'45'\n"
                           "┃        ┃     ┃     ├─ ProcCall\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'w'\n"
                           "┃        ┃     ┃     │  └─ NULL\n"
                           "┃        ┃     ┃     ├─ ArrayExpr\n"
                           "┃        ┃     ┃     │  ┢─ Exprs\n"
                           "┃        ┃     ┃     │  ┃  └─ Float -- val:'20000000.000000'\n"
                           "┃        ┃     ┃     │  ┡─ NULL\n"
                           "┃        ┃     ┃     │  └─ Var -- name:'t'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ┃     ├─ ArrayExpr\n"
                           "┃        ┃     ┃     ┃     │  ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     │  ┃  └─ Monop -- op:'!'\n"
                           "┃        ┃     ┃     ┃     │  ┃     └─ Monop -- op:'!'\n"
                           "┃        ┃     ┃     ┃     │  ┃        └─ Monop -- op:'-'\n"
                           "┃        ┃     ┃     ┃     │  ┃           └─ Var -- name:'b'\n"
                           "┃        ┃     ┃     ┃     │  ┡─ NULL\n"
                           "┃        ┃     ┃     ┃     │  └─ Var -- name:'w'\n"
                           "┃        ┃     ┃     ┃     ├─ NULL\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'3'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'square'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'num'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  ├─ Var -- name:'num'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ┃     ├─ Binop -- op:'=='\n"
                           "┃        ┃     ┃     ┃     │  ├─ Var -- name:'num'\n"
                           "┃        ┃     ┃     ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ┃     ┃     ├─ Var -- name:'square'\n"
                           "┃        ┃     ┃     ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     ┃     ┃  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     └─ Binop -- op:'=='\n"
                           "┃        ┃     ┃        ├─ Var -- name:'num'\n"
                           "┃        ┃     ┃        └─ Int -- val:'2'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ Assign\n"
                           "┃        ┃     ┃     ├─ Var -- name:'num'\n"
                           "┃        ┃     ┃     └─ Int -- val:'3'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Cast -- type:'bool'\n"
                           "┃        ┃     │  └─ Binop -- op:'-'\n"
                           "┃        ┃     │     ├─ ArrayExpr\n"
                           "┃        ┃     │     │  ┢─ Exprs\n"
                           "┃        ┃     │     │  ┃  └─ Int -- val:'9'\n"
                           "┃        ┃     │     │  ┡─ NULL\n"
                           "┃        ┃     │     │  └─ Var -- name:'v'\n"
                           "┃        ┃     │     └─ Binop -- op:'/'\n"
                           "┃        ┃     │        ├─ Int -- val:'9'\n"
                           "┃        ┃     │        └─ Var -- name:'yw'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, For)
{
    SetUp("for/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'T95'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ├─ Int -- val:'1'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'f95'\n"
                           "┃        ┃     │  └─ ProcCall\n"
                           "┃        ┃     │     ├─ Var -- name:'test'\n"
                           "┃        ┃     │     └─ NULL\n"
                           "┃        ┃     ├─ ProcCall\n"
                           "┃        ┃     │  ├─ Var -- name:'test'\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ ProcCall\n"
                           "┃        ┃     │  ┃     ├─ Var -- name:'q9'\n"
                           "┃        ┃     │  ┃     ┢─ Exprs\n"
                           "┃        ┃     │  ┃     ┃  └─ Monop -- op:'-'\n"
                           "┃        ┃     │  ┃     ┃     └─ Int -- val:'1'\n"
                           "┃        ┃     │  ┃     ┣─ Exprs\n"
                           "┃        ┃     │  ┃     ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     │  ┃     ┗─ NULL\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'Um'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'f95'\n"
                           "┃        ┃     │  └─ ProcCall\n"
                           "┃        ┃     │     ├─ Var -- name:'test'\n"
                           "┃        ┃     │     └─ NULL\n"
                           "┃        ┃     ├─ ProcCall\n"
                           "┃        ┃     │  ├─ Var -- name:'test'\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ ProcCall\n"
                           "┃        ┃     │  ┃     ├─ Var -- name:'q9'\n"
                           "┃        ┃     │  ┃     ┢─ Exprs\n"
                           "┃        ┃     │  ┃     ┃  └─ Monop -- op:'-'\n"
                           "┃        ┃     │  ┃     ┃     └─ Int -- val:'1'\n"
                           "┃        ┃     │  ┃     ┣─ Exprs\n"
                           "┃        ┃     │  ┃     ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     │  ┃     ┗─ NULL\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'8'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'Um'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ┃     ├─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ┃     ┃     ├─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┃     ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ┃     ┃     ┃     ├─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃     ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     ├─ Int -- val:'5'\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     ├─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'H'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'wb0'\n"
                           "┃        ┃     │  └─ Cast -- type:'float'\n"
                           "┃        ┃     │     └─ ArrayExpr\n"
                           "┃        ┃     │        ┢─ Exprs\n"
                           "┃        ┃     │        ┃  └─ Int -- val:'4'\n"
                           "┃        ┃     │        ┡─ NULL\n"
                           "┃        ┃     │        └─ Var -- name:'i'\n"
                           "┃        ┃     ├─ Cast -- type:'int'\n"
                           "┃        ┃     │  └─ Cast -- type:'float'\n"
                           "┃        ┃     │     └─ Bool -- val:'0'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ Binop -- op:'!='\n"
                           "┃        ┃     ┃     │  ├─ Monop -- op:'-'\n"
                           "┃        ┃     ┃     │  │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     │  └─ ProcCall\n"
                           "┃        ┃     ┃     │     ├─ Var -- name:'e'\n"
                           "┃        ┃     ┃     │     └─ NULL\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'whilp'\n"
                           "┃        ┃     ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     ┃  └─ Monop -- op:'!'\n"
                           "┃        ┃     ┃     ┃     ┃     └─ ProcCall\n"
                           "┃        ┃     ┃     ┃     ┃        ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     ┃        ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     ┃        ┃  └─ Monop -- op:'-'\n"
                           "┃        ┃     ┃     ┃     ┃        ┃     └─ Cast -- type:'int'\n"
                           "┃        ┃     ┃     ┃     ┃        ┃        └─ Int -- val:'3506'\n"
                           "┃        ┃     ┃     ┃     ┃        ┗─ NULL\n"
                           "┃        ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Comment)
{
    SetUp("comments/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'test'\n"
                           "┃        └─ Int -- val:'0'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, BinopsPrecedence)
{
    SetUp("binops_precedence/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'&&'\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'b'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Binop -- op:'&&'\n"
                           "┃           │  ├─ Var -- name:'a'\n"
                           "┃           │  └─ Var -- name:'b'\n"
                           "┃           └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'c'\n"
                           "┃        └─ Binop -- op:'&&'\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'=='\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'d'\n"
                           "┃        └─ Binop -- op:'&&'\n"
                           "┃           ├─ Binop -- op:'=='\n"
                           "┃           │  ├─ Var -- name:'a'\n"
                           "┃           │  └─ Var -- name:'b'\n"
                           "┃           └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'e'\n"
                           "┃        └─ Binop -- op:'=='\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'<='\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'f'\n"
                           "┃        └─ Binop -- op:'=='\n"
                           "┃           ├─ Binop -- op:'<='\n"
                           "┃           │  ├─ Var -- name:'a'\n"
                           "┃           │  └─ Var -- name:'b'\n"
                           "┃           └─ Var -- name:'e'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'g'\n"
                           "┃        └─ Binop -- op:'>='\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'+'\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'h'\n"
                           "┃        └─ Binop -- op:'>='\n"
                           "┃           ├─ Binop -- op:'+'\n"
                           "┃           │  ├─ Var -- name:'a'\n"
                           "┃           │  └─ Var -- name:'b'\n"
                           "┃           └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'i'\n"
                           "┃        └─ Binop -- op:'-'\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'%'\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'j'\n"
                           "┃        └─ Binop -- op:'-'\n"
                           "┃           ├─ Binop -- op:'*'\n"
                           "┃           │  ├─ Var -- name:'a'\n"
                           "┃           │  └─ Var -- name:'b'\n"
                           "┃           └─ Var -- name:'c'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'all'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Var -- name:'a'\n"
                           "┃           └─ Binop -- op:'&&'\n"
                           "┃              ├─ Var -- name:'b'\n"
                           "┃              └─ Binop -- op:'=='\n"
                           "┃                 ├─ Var -- name:'c'\n"
                           "┃                 └─ Binop -- op:'<='\n"
                           "┃                    ├─ Var -- name:'d'\n"
                           "┃                    └─ Binop -- op:'+'\n"
                           "┃                       ├─ Var -- name:'e'\n"
                           "┃                       └─ Binop -- op:'*'\n"
                           "┃                          ├─ Var -- name:'f'\n"
                           "┃                          └─ Var -- name:'g'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'all'\n"
                           "┃        └─ Binop -- op:'||'\n"
                           "┃           ├─ Binop -- op:'&&'\n"
                           "┃           │  ├─ Binop -- op:'=='\n"
                           "┃           │  │  ├─ Binop -- op:'<='\n"
                           "┃           │  │  │  ├─ Binop -- op:'+'\n"
                           "┃           │  │  │  │  ├─ Binop -- op:'*'\n"
                           "┃           │  │  │  │  │  ├─ Var -- name:'a'\n"
                           "┃           │  │  │  │  │  └─ Var -- name:'b'\n"
                           "┃           │  │  │  │  └─ Var -- name:'c'\n"
                           "┃           │  │  │  └─ Var -- name:'d'\n"
                           "┃           │  │  └─ Var -- name:'e'\n"
                           "┃           │  └─ Var -- name:'f'\n"
                           "┃           └─ Var -- name:'g'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Funbody)
{
    SetUp("funbody/main.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test1'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'fun'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ ProcCall\n"
                           "┃        ┃        │  ├─ Var -- name:'fun'\n"
                           "┃        ┃        │  └─ NULL\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test2'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'fun'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test3'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ ProcCall\n"
                           "┃        ┃        │  ├─ Var -- name:'fun'\n"
                           "┃        ┃        │  └─ NULL\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test4'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'fun'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ ProcCall\n"
                           "┃        ┃        │  ├─ Var -- name:'fun'\n"
                           "┃        ┃        │  └─ NULL\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test5'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test6'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'fun'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test7'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'varDec'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ ProcCall\n"
                           "┃        ┃        │  ├─ Var -- name:'fun'\n"
                           "┃        ┃        │  └─ NULL\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_Binop)
{
    SetUp("testsuite_public/basic/check_success/binops.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'c'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Int -- val:'3'\n"
                           "┃        ┃        └─ Int -- val:'4'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'d'\n"
                           "┃        ┃     └─ Binop -- op:'*'\n"
                           "┃        ┃        ├─ Int -- val:'5'\n"
                           "┃        ┃        └─ Int -- val:'6'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'e'\n"
                           "┃        ┃     └─ Binop -- op:'%'\n"
                           "┃        ┃        ├─ Int -- val:'7'\n"
                           "┃        ┃        └─ Int -- val:'8'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'f'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Binop -- op:'+'\n"
                           "┃        ┃        │  ├─ Var -- name:'c'\n"
                           "┃        ┃        │  └─ Var -- name:'d'\n"
                           "┃        ┃        └─ Binop -- op:'*'\n"
                           "┃        ┃           ├─ Var -- name:'e'\n"
                           "┃        ┃           └─ Var -- name:'b'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_Boolop)
{
    SetUp("testsuite_public/basic/check_success/boolop.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'f'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Binop -- op:'+'\n"
                           "┃        ┃        │  ├─ Binop -- op:'+'\n"
                           "┃        ┃        │  │  ├─ Int -- val:'2'\n"
                           "┃        ┃        │  │  └─ Int -- val:'3'\n"
                           "┃        ┃        │  └─ Int -- val:'4'\n"
                           "┃        ┃        └─ Int -- val:'5'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Binop -- op:'+'\n"
                           "┃        ┃        │  ├─ Float -- val:'39.000000'\n"
                           "┃        ┃        │  └─ Float -- val:'3.000000'\n"
                           "┃        ┃        └─ Float -- val:'21.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'c'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Bool -- val:'0'\n"
                           "┃        ┃        └─ Bool -- val:'0'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'d'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Binop -- op:'-'\n"
                           "┃        ┃        │  ├─ Binop -- op:'-'\n"
                           "┃        ┃        │  │  ├─ Int -- val:'2'\n"
                           "┃        ┃        │  │  └─ Int -- val:'3'\n"
                           "┃        ┃        │  └─ Int -- val:'4'\n"
                           "┃        ┃        └─ Int -- val:'5'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'e'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Binop -- op:'-'\n"
                           "┃        ┃        │  ├─ Float -- val:'39.000000'\n"
                           "┃        ┃        │  └─ Float -- val:'3.000000'\n"
                           "┃        ┃        └─ Float -- val:'21.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'f'\n"
                           "┃        ┃     └─ Binop -- op:'*'\n"
                           "┃        ┃        ├─ Binop -- op:'*'\n"
                           "┃        ┃        │  ├─ Int -- val:'2'\n"
                           "┃        ┃        │  └─ Int -- val:'3'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'g'\n"
                           "┃        ┃     └─ Binop -- op:'*'\n"
                           "┃        ┃        ├─ Float -- val:'3.140000'\n"
                           "┃        ┃        └─ Float -- val:'2.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'h'\n"
                           "┃        ┃     └─ Binop -- op:'*'\n"
                           "┃        ┃        ├─ Bool -- val:'1'\n"
                           "┃        ┃        └─ Bool -- val:'0'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ Binop -- op:'/'\n"
                           "┃        ┃        ├─ Int -- val:'4'\n"
                           "┃        ┃        └─ Int -- val:'3'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'j'\n"
                           "┃        ┃     └─ Binop -- op:'/'\n"
                           "┃        ┃        ├─ Int -- val:'6'\n"
                           "┃        ┃        └─ Int -- val:'0'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'k'\n"
                           "┃        ┃     └─ Binop -- op:'/'\n"
                           "┃        ┃        ├─ Float -- val:'5.000000'\n"
                           "┃        ┃        └─ Float -- val:'2.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'l'\n"
                           "┃        ┃     └─ Binop -- op:'/'\n"
                           "┃        ┃        ├─ Float -- val:'9.000000'\n"
                           "┃        ┃        └─ Float -- val:'0.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃     └─ Binop -- op:'%'\n"
                           "┃        ┃        ├─ Binop -- op:'%'\n"
                           "┃        ┃        │  ├─ Int -- val:'12'\n"
                           "┃        ┃        │  └─ Int -- val:'8'\n"
                           "┃        ┃        └─ Int -- val:'3'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'n'\n"
                           "┃        ┃     └─ Binop -- op:'<'\n"
                           "┃        ┃        ├─ Int -- val:'20'\n"
                           "┃        ┃        └─ Int -- val:'20'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'o'\n"
                           "┃        ┃     └─ Binop -- op:'<'\n"
                           "┃        ┃        ├─ Float -- val:'3.000000'\n"
                           "┃        ┃        └─ Float -- val:'6.100000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'p'\n"
                           "┃        ┃     └─ Binop -- op:'<='\n"
                           "┃        ┃        ├─ Int -- val:'20'\n"
                           "┃        ┃        └─ Int -- val:'20'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'q'\n"
                           "┃        ┃     └─ Binop -- op:'<='\n"
                           "┃        ┃        ├─ Float -- val:'3.000000'\n"
                           "┃        ┃        └─ Float -- val:'6.100000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'r'\n"
                           "┃        ┃     └─ Binop -- op:'||'\n"
                           "┃        ┃        ├─ Binop -- op:'<'\n"
                           "┃        ┃        │  ├─ Int -- val:'60'\n"
                           "┃        ┃        │  └─ Int -- val:'50'\n"
                           "┃        ┃        └─ Binop -- op:'>'\n"
                           "┃        ┃           ├─ Int -- val:'30'\n"
                           "┃        ┃           └─ Int -- val:'10'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'s'\n"
                           "┃        ┃     └─ Binop -- op:'>'\n"
                           "┃        ┃        ├─ Float -- val:'3.000000'\n"
                           "┃        ┃        └─ Float -- val:'2.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'t'\n"
                           "┃        ┃     └─ Binop -- op:'!='\n"
                           "┃        ┃        ├─ Int -- val:'8'\n"
                           "┃        ┃        └─ Int -- val:'8'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'u'\n"
                           "┃        ┃     └─ Binop -- op:'=='\n"
                           "┃        ┃        ├─ Int -- val:'8'\n"
                           "┃        ┃        └─ Int -- val:'8'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'v'\n"
                           "┃        ┃     └─ Binop -- op:'!='\n"
                           "┃        ┃        ├─ Float -- val:'1.200000'\n"
                           "┃        ┃        └─ Float -- val:'2.100000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'w'\n"
                           "┃        ┃     └─ Binop -- op:'!='\n"
                           "┃        ┃        ├─ Bool -- val:'1'\n"
                           "┃        ┃        └─ Bool -- val:'0'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_CommentMultiline)
{
    SetUp("testsuite_public/basic/check_success/comment_multiline.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a'\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_CommentSingleline)
{
    SetUp("testsuite_public/basic/check_success/comment_singleline.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a'\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_DoWhile)
{
    SetUp("testsuite_public/basic/check_success/do_while.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'test_do_while2'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'x'\n"
                           "┃        ┃     └─ Int -- val:'0'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'y'\n"
                           "┃        ┃     └─ Int -- val:'10'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ Assign\n"
                           "┃        ┃     ┃     ├─ Var -- name:'x'\n"
                           "┃        ┃     ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃     ┃        ├─ Var -- name:'x'\n"
                           "┃        ┃     ┃        └─ Int -- val:'1'\n"
                           "┃        ┃     ┣─ Statements\n"
                           "┃        ┃     ┃  └─ Assign\n"
                           "┃        ┃     ┃     ├─ Var -- name:'y'\n"
                           "┃        ┃     ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃     ┃        ├─ Var -- name:'y'\n"
                           "┃        ┃     ┃        └─ Int -- val:'1'\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Binop -- op:'<='\n"
                           "┃        ┃        ├─ Var -- name:'x'\n"
                           "┃        ┃        └─ Var -- name:'y'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_EarlyReturn)
{
    SetUp("testsuite_public/basic/check_success/early_return.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ Var -- name:'p'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'>'\n"
                           "┃        ┃     │  ├─ Var -- name:'p'\n"
                           "┃        ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ RetStatement\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ExternVar)
{
    SetUp("testsuite_public/basic/check_success/extern_var.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ Var -- name:'pi'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_NoReturn)
{
    SetUp("testsuite_public/basic/check_success/no_return.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'baz'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParamsFuncall)
{
    SetUp("testsuite_public/basic/check_success/params_funcall.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ ProcCall\n"
                           "┃        ┃        │  ├─ Var -- name:'foo'\n"
                           "┃        ┃        │  └─ NULL\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParamsSimple)
{
    SetUp("testsuite_public/basic/check_success/params_simple.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'func'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ Var -- name:'b'\n"
                           "┃     │  ┣─ Params -- type:'bool'\n"
                           "┃     │  ┃  └─ Var -- name:'c'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseAssign)
{
    SetUp("testsuite_public/basic/check_success/parse_assign.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'b'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseDoWhile)
{
    SetUp("testsuite_public/basic/check_success/parse_do_while.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┣─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ DoWhileLoop\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     └─ Bool -- val:'0'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseFor)
{
    SetUp("testsuite_public/basic/check_success/parse_for.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Int -- val:'10'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┣─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Int -- val:'10'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'10'\n"
                           "┃        ┃     ├─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Monop -- op:'-'\n"
                           "┃        ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseFunbody)
{
    SetUp("testsuite_public/basic/check_success/parse_funbody.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'vardec'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'vardec_stat'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'vardec_ret'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'vardec_stat_ret'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Var -- name:'a'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'stat_ret'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'vardec'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'ret'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseFuncall)
{
    SetUp("testsuite_public/basic/check_success/parse_funcall.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseGlobaldec)
{
    SetUp("testsuite_public/basic/check_success/parse_globaldec.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'bool'\n"
                           "┃     └─ Var -- name:'a'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ Var -- name:'b'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'float'\n"
                           "┃     └─ Var -- name:'c'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseGlobaldef)
{
    SetUp("testsuite_public/basic/check_success/parse_globaldef.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'b'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'c'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'d'\n"
                           "┃        └─ Int -- val:'321'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'e'\n"
                           "┃        └─ Float -- val:'1.000000'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'f'\n"
                           "┃        └─ Bool -- val:'0'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a2'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'b2'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'c2'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'d2'\n"
                           "┃        └─ Int -- val:'321'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'float'\n"
                           "┃        ├─ Var -- name:'e2'\n"
                           "┃        └─ Float -- val:'1.000000'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'1'\n"
                           "┃     └─ VarDec -- type:'bool'\n"
                           "┃        ├─ Var -- name:'f2'\n"
                           "┃        └─ Bool -- val:'0'\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseIfElse)
{
    SetUp("testsuite_public/basic/check_success/parse_if_else.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Bool -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Bool -- val:'0'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Bool -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseOperators)
{
    SetUp("testsuite_public/basic/check_success/parse_operators.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Int -- val:'1'\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'*'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'45'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'/'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'9'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'%'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'4'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'<'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'>'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'<='\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'3'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'>='\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'4'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'=='\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'5'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'!='\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'6'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'&&'\n"
                           "┃        ┃        ├─ Binop -- op:'!='\n"
                           "┃        ┃        │  ├─ Var -- name:'a'\n"
                           "┃        ┃        │  └─ Int -- val:'6'\n"
                           "┃        ┃        └─ Binop -- op:'>='\n"
                           "┃        ┃           ├─ Var -- name:'a'\n"
                           "┃        ┃           └─ Int -- val:'4'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'||'\n"
                           "┃        ┃        ├─ Binop -- op:'=='\n"
                           "┃        ┃        │  ├─ Var -- name:'a'\n"
                           "┃        ┃        │  └─ Int -- val:'6'\n"
                           "┃        ┃        └─ Binop -- op:'<='\n"
                           "┃        ┃           ├─ Var -- name:'a'\n"
                           "┃        ┃           └─ Int -- val:'4'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Monop -- op:'-'\n"
                           "┃        ┃        └─ Var -- name:'a'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Monop -- op:'!'\n"
                           "┃        ┃        └─ Var -- name:'b'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Monop -- op:'-'\n"
                           "┃        ┃           └─ Int -- val:'1'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Monop -- op:'-'\n"
                           "┃        ┃        └─ Monop -- op:'-'\n"
                           "┃        ┃           └─ Monop -- op:'-'\n"
                           "┃        ┃              └─ Monop -- op:'-'\n"
                           "┃        ┃                 └─ Monop -- op:'-'\n"
                           "┃        ┃                    └─ Monop -- op:'-'\n"
                           "┃        ┃                       └─ Var -- name:'a'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseTypecast)
{
    SetUp("testsuite_public/basic/check_success/parse_typecast.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ Cast -- type:'int'\n"
                           "┃        ┃        └─ Float -- val:'1.000000'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'f'\n"
                           "┃        ┃     └─ Cast -- type:'float'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Cast -- type:'bool'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_ParseVardec)
{
    SetUp("testsuite_public/basic/check_success/parse_vardec.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'f'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'bool'\n"
                           "┃        ┃     ├─ Var -- name:'b2'\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i2'\n"
                           "┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃     ├─ Var -- name:'f2'\n"
                           "┃        ┃     └─ Float -- val:'1.000000'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_VardecInit)
{
    SetUp("testsuite_public/basic/check_success/vardec_init.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'testVarInits'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Int -- val:'3'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'c'\n"
                           "┃        ┃     └─ Int -- val:'5'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'d'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Var -- name:'c'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'2'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Arrays_ExternArrayArg)
{
    SetUp("testsuite_public/arrays/check_success/extern_array_arg.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'n'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'arr'\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'m'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'a'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'main'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'arr'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'0'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Arrays_LocalArraydef)
{
    SetUp("testsuite_public/arrays/check_success/local_arraydef.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'func'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'10'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'i'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'20'\n"
                           "┃        ┃     │  ┣─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'30'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'j'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'4'\n"
                           "┃        ┃     │  ┣─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'5'\n"
                           "┃        ┃     │  ┣─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'6'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'k'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Arrays_ScanVectorMatrix)
{
    SetUp("testsuite_public/arrays/check_success/scan_vector_matrix.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'int'\n"
                           "┃        ├─ Var -- name:'scanInt'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'float'\n"
                           "┃        ├─ Var -- name:'scanFloat'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'void'\n"
                           "┃        ├─ Var -- name:'printInt'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'c'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'void'\n"
                           "┃        ├─ Var -- name:'printFloat'\n"
                           "┃        ┢─ Params -- type:'float'\n"
                           "┃        ┃  └─ Var -- name:'c'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'scan_vector'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'m'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'a'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ArrayAssign\n"
                           "┃        ┃     ┃     ├─ ArrayExpr\n"
                           "┃        ┃     ┃     │  ┢─ Exprs\n"
                           "┃        ┃     ┃     │  ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┃     │  ┡─ NULL\n"
                           "┃        ┃     ┃     │  └─ Var -- name:'a'\n"
                           "┃        ┃     ┃     └─ ProcCall\n"
                           "┃        ┃     ┃        ├─ Var -- name:'scanFloat'\n"
                           "┃        ┃     ┃        └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'scan_matrix'\n"
                           "┃     │  ┢─ Params -- type:'float'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'m'\n"
                           "┃     │  ┃     ┣─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'n'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'a'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'j'\n"
                           "┃        ┃     ┃     │  └─ Int -- val:'0'\n"
                           "┃        ┃     ┃     ├─ Var -- name:'n'\n"
                           "┃        ┃     ┃     ├─ NULL\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ ArrayAssign\n"
                           "┃        ┃     ┃     ┃     ├─ ArrayExpr\n"
                           "┃        ┃     ┃     ┃     │  ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     │  ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     │  ┣─ Exprs\n"
                           "┃        ┃     ┃     ┃     │  ┃  └─ Var -- name:'j'\n"
                           "┃        ┃     ┃     ┃     │  ┡─ NULL\n"
                           "┃        ┃     ┃     ┃     │  └─ Var -- name:'a'\n"
                           "┃        ┃     ┃     ┃     └─ ProcCall\n"
                           "┃        ┃     ┃     ┃        ├─ Var -- name:'scanFloat'\n"
                           "┃        ┃     ┃     ┃        └─ NULL\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'main'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃     └─ Int -- val:'3'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'n'\n"
                           "┃        ┃     └─ Int -- val:'3'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'void'\n"
                           "┃        ┃     │  ├─ Var -- name:'do_vector'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Var -- name:'m'\n"
                           "┃        ┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃        ┃     │  └─ Var -- name:'v'\n"
                           "┃        ┃        ┃     └─ NULL\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┢─ Statements\n"
                           "┃        ┃        ┃  └─ ProcCall\n"
                           "┃        ┃        ┃     ├─ Var -- name:'scan_vector'\n"
                           "┃        ┃        ┃     ┢─ Exprs\n"
                           "┃        ┃        ┃     ┃  └─ Var -- name:'v'\n"
                           "┃        ┃        ┃     ┗─ NULL\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┣─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'void'\n"
                           "┃        ┃     │  ├─ Var -- name:'do_matrix'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'float'\n"
                           "┃        ┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Var -- name:'m'\n"
                           "┃        ┃        ┃     │  ┣─ Exprs\n"
                           "┃        ┃        ┃     │  ┃  └─ Var -- name:'n'\n"
                           "┃        ┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃        ┃     │  └─ Var -- name:'M'\n"
                           "┃        ┃        ┃     └─ NULL\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┢─ Statements\n"
                           "┃        ┃        ┃  └─ ProcCall\n"
                           "┃        ┃        ┃     ├─ Var -- name:'scan_matrix'\n"
                           "┃        ┃        ┃     ┢─ Exprs\n"
                           "┃        ┃        ┃     ┃  └─ Var -- name:'M'\n"
                           "┃        ┃        ┃     ┗─ NULL\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ IfStatement\n"
                           "┃        ┃     ├─ Binop -- op:'&&'\n"
                           "┃        ┃     │  ├─ Binop -- op:'=='\n"
                           "┃        ┃     │  │  ├─ Var -- name:'n'\n"
                           "┃        ┃     │  │  └─ Int -- val:'1'\n"
                           "┃        ┃     │  └─ Binop -- op:'>='\n"
                           "┃        ┃     │     ├─ Var -- name:'m'\n"
                           "┃        ┃     │     └─ Int -- val:'1'\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'do_vector'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┡─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ IfStatement\n"
                           "┃        ┃     ┃     ├─ Binop -- op:'&&'\n"
                           "┃        ┃     ┃     │  ├─ Binop -- op:'>'\n"
                           "┃        ┃     ┃     │  │  ├─ Var -- name:'n'\n"
                           "┃        ┃     ┃     │  │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     │  └─ Binop -- op:'>='\n"
                           "┃        ┃     ┃     │     ├─ Var -- name:'m'\n"
                           "┃        ┃     ┃     │     └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'do_matrix'\n"
                           "┃        ┃     ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┃     ┡─ NULL\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'0'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Arrays_Scopes)
{
    SetUp("testsuite_public/arrays/check_success/scopes.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'void'\n"
                           "┃        ├─ Var -- name:'printInt'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'val'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDec\n"
                           "┃     └─ FunHeader -- type:'void'\n"
                           "┃        ├─ Var -- name:'printNewlines'\n"
                           "┃        ┢─ Params -- type:'int'\n"
                           "┃        ┃  └─ Var -- name:'num'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'a'\n"
                           "┃        └─ Int -- val:'1'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ Var -- name:'b'\n"
                           "┃        └─ Int -- val:'2'\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDef -- has_export:'0'\n"
                           "┃     └─ VarDec -- type:'int'\n"
                           "┃        ├─ ArrayExpr\n"
                           "┃        │  ┢─ Exprs\n"
                           "┃        │  ┃  └─ Int -- val:'4'\n"
                           "┃        │  ┡─ NULL\n"
                           "┃        │  └─ Var -- name:'c'\n"
                           "┃        └─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ GlobalDec -- type:'int'\n"
                           "┃     └─ ArrayVar\n"
                           "┃        ┢─ DimensionVars\n"
                           "┃        ┃  └─ Var -- name:'m'\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ Var -- name:'d'\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Binop -- op:'+'\n"
                           "┃        ┃        │  ├─ Var -- name:'a'\n"
                           "┃        ┃        │  └─ Var -- name:'b'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃     └─ Var -- name:'m'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'int'\n"
                           "┃        ┃     │  ├─ Var -- name:'baz'\n"
                           "┃        ┃     │  ┢─ Params -- type:'int'\n"
                           "┃        ┃     │  ┃  └─ Var -- name:'c'\n"
                           "┃        ┃     │  ┣─ Params -- type:'int'\n"
                           "┃        ┃     │  ┃  └─ ArrayVar\n"
                           "┃        ┃     │  ┃     ┢─ DimensionVars\n"
                           "┃        ┃     │  ┃     ┃  └─ Var -- name:'b'\n"
                           "┃        ┃     │  ┃     ┡─ NULL\n"
                           "┃        ┃     │  ┃     └─ Var -- name:'d'\n"
                           "┃        ┃     │  ┗─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ┢─ VarDecs\n"
                           "┃        ┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ┃        ├─ Var -- name:'c'\n"
                           "┃        ┃        ┃        └─ Var -- name:'b'\n"
                           "┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ┢─ Statements\n"
                           "┃        ┃        ┃  └─ RetStatement\n"
                           "┃        ┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        ┃        └─ ArrayExpr\n"
                           "┃        ┃        ┃           ┢─ Exprs\n"
                           "┃        ┃        ┃           ┃  └─ Var -- name:'c'\n"
                           "┃        ┃        ┃           ┡─ NULL\n"
                           "┃        ┃        ┃           └─ Var -- name:'d'\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ Assign\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Var -- name:'a'\n"
                           "┃        ┃        └─ Int -- val:'1'\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ ProcCall\n"
                           "┃        ┃        ├─ Var -- name:'baz'\n"
                           "┃        ┃        ┢─ Exprs\n"
                           "┃        ┃        ┃  └─ Binop -- op:'+'\n"
                           "┃        ┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃        ┃     └─ ArrayExpr\n"
                           "┃        ┃        ┃        ┢─ Exprs\n"
                           "┃        ┃        ┃        ┃  └─ Binop -- op:'-'\n"
                           "┃        ┃        ┃        ┃     ├─ Var -- name:'m'\n"
                           "┃        ┃        ┃        ┃     └─ Int -- val:'1'\n"
                           "┃        ┃        ┃        ┡─ NULL\n"
                           "┃        ┃        ┃        └─ Var -- name:'d'\n"
                           "┃        ┃        ┣─ Exprs\n"
                           "┃        ┃        ┃  └─ Var -- name:'c'\n"
                           "┃        ┃        ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'bar'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Var -- name:'b'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Var -- name:'a'\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'baz'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'i'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ForLoop\n"
                           "┃        ┃     ├─ Assign\n"
                           "┃        ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ├─ Int -- val:'10'\n"
                           "┃        ┃     ├─ NULL\n"
                           "┃        ┃     ┢─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┣─ Statements\n"
                           "┃        ┃     ┃  └─ ForLoop\n"
                           "┃        ┃     ┃     ├─ Assign\n"
                           "┃        ┃     ┃     │  ├─ Var -- name:'i'\n"
                           "┃        ┃     ┃     │  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃     ├─ Int -- val:'10'\n"
                           "┃        ┃     ┃     ├─ NULL\n"
                           "┃        ┃     ┃     ┢─ Statements\n"
                           "┃        ┃     ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃     ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┣─ Statements\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃     ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┃     ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Var -- name:'i'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┗─ NULL\n"
                           "┣─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'1'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'main'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'foo'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printNewlines'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printInt'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ ProcCall\n"
                           "┃        ┃     ┃     ├─ Var -- name:'bar'\n"
                           "┃        ┃     ┃     └─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printNewlines'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'baz'\n"
                           "┃        ┃     └─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ ProcCall\n"
                           "┃        ┃     ├─ Var -- name:'printNewlines'\n"
                           "┃        ┃     ┢─ Exprs\n"
                           "┃        ┃     ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Int -- val:'0'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_NestedFuns_LocalFun)
{
    SetUp("testsuite_public/nested_funs/check_success/local_funs.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'func'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Binop -- op:'+'\n"
                           "┃        ┃        ├─ Monop -- op:'-'\n"
                           "┃        ┃        │  └─ Int -- val:'2'\n"
                           "┃        ┃        └─ Int -- val:'10'\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'b'\n"
                           "┃        ┃     └─ Binop -- op:'-'\n"
                           "┃        ┃        ├─ Int -- val:'2'\n"
                           "┃        ┃        └─ Int -- val:'10'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ┢─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'void'\n"
                           "┃        ┃     │  ├─ Var -- name:'f'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┣─ LocalFunDefs\n"
                           "┃        ┃  └─ FunDef -- has_export:'0'\n"
                           "┃        ┃     ├─ FunHeader -- type:'void'\n"
                           "┃        ┃     │  ├─ Var -- name:'g'\n"
                           "┃        ┃     │  └─ NULL\n"
                           "┃        ┃     └─ FunBody\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        ├─ NULL\n"
                           "┃        ┃        └─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";

    ASSERT_MLSTREQ(expected, root_string);
}

// ////////////////////////////
// Everything from CHECK ERROR
// ////////////////////////////

TEST_F(ScanParseTest, Suite_Basic_Empty)
{
    SetUpNoExecute("testsuite_public/basic/check_error/empty.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Basic_ExportExternFun)
{
    SetUpNoExecute("testsuite_public/basic/check_error/export_extern_fun.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Basic_GlobalStatement)
{
    SetUpNoExecute("testsuite_public/basic/check_error/global_statement.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Basic_IntergerOutOfRange)
{
    SetUp("testsuite_public/basic/check_error/integer_out_of_range.cvc");
    ASSERT_NE(nullptr, root);
    ASSERT_THAT(err_output, testing::HasSubstr("warning: Int out of range."));
}

TEST_F(ScanParseTest, Suite_Basic_InvalidForLoop)
{
    SetUpNoExecute("testsuite_public/basic/check_error/invalid_for_loop_type.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Basic_InvalidReturnType)
{
    SetUp("testsuite_public/basic/check_error/invalid_return_type.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'int'\n"
                           "┃     │  ├─ Var -- name:'f'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_InvalidReturnVoidFunc)
{
    SetUp("testsuite_public/basic/check_error/invalid_return_voidfunc.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'f'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        ┢─ Statements\n"
                           "┃        ┃  └─ RetStatement\n"
                           "┃        ┃     └─ Bool -- val:'1'\n"
                           "┃        ┗─ NULL\n"
                           "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_InvalidStatement)
{
    SetUpNoExecute("testsuite_public/basic/check_error/invalid_statements.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Basic_UndefinedVar)
{
    SetUp("testsuite_public/basic/check_error/undefined_var.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'f'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ Var -- name:'a'\n"
                           "┃        ┃     └─ Var -- name:'notdef'\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Basic_UnterminatedComment)
{
    SetUpNoExecute("testsuite_public/basic/check_error/unterminated_comment.cvc");
    ASSERT_EXIT(run_scan_parse(input_filepath.c_str()), testing::ExitedWithCode(1),
                "Error parsing source code: syntax error");
}

TEST_F(ScanParseTest, Suite_Arrays_InvalidInit)
{
    SetUp("testsuite_public/arrays/check_error/invalid_init.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  └─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ┢─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'3'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'a'\n"
                           "┃        ┃     ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃  ┣─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  └─ Int -- val:'2'\n"
                           "┃        ┃     ┃  ┗─ NULL\n"
                           "┃        ┃     ┣─ ArrayInit\n"
                           "┃        ┃     ┃  └─ Int -- val:'3'\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┣─ VarDecs\n"
                           "┃        ┃  └─ VarDec -- type:'int'\n"
                           "┃        ┃     ├─ ArrayExpr\n"
                           "┃        ┃     │  ┢─ Exprs\n"
                           "┃        ┃     │  ┃  └─ Int -- val:'3'\n"
                           "┃        ┃     │  ┡─ NULL\n"
                           "┃        ┃     │  └─ Var -- name:'b'\n"
                           "┃        ┃     ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  └─ Int -- val:'1'\n"
                           "┃        ┃     ┃  ┣─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  └─ Int -- val:'2'\n"
                           "┃        ┃     ┃  ┗─ NULL\n"
                           "┃        ┃     ┣─ ArrayInit\n"
                           "┃        ┃     ┃  ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  ┢─ ArrayInit\n"
                           "┃        ┃     ┃  ┃  ┃  └─ Int -- val:'3'\n"
                           "┃        ┃     ┃  ┃  ┗─ NULL\n"
                           "┃        ┃     ┃  ┗─ NULL\n"
                           "┃        ┃     ┗─ NULL\n"
                           "┃        ┡─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}

TEST_F(ScanParseTest, Suite_Arrays_ShadowedDimension)
{
    SetUp("testsuite_public/arrays/check_error/shadowed_dimension.cvc");
    ASSERT_NE(nullptr, root);

    const char *expected = "Program\n"
                           "┢─ Declarations\n"
                           "┃  └─ FunDef -- has_export:'0'\n"
                           "┃     ├─ FunHeader -- type:'void'\n"
                           "┃     │  ├─ Var -- name:'foo'\n"
                           "┃     │  ┢─ Params -- type:'int'\n"
                           "┃     │  ┃  └─ ArrayVar\n"
                           "┃     │  ┃     ┢─ DimensionVars\n"
                           "┃     │  ┃     ┃  └─ Var -- name:'a'\n"
                           "┃     │  ┃     ┡─ NULL\n"
                           "┃     │  ┃     └─ Var -- name:'a'\n"
                           "┃     │  ┗─ NULL\n"
                           "┃     └─ FunBody\n"
                           "┃        ├─ NULL\n"
                           "┃        ├─ NULL\n"
                           "┃        └─ NULL\n"
                           "┗─ NULL\n";
    ASSERT_MLSTREQ(expected, root_string);
}
